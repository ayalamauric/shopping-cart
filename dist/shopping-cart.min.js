var EcomCart={};!function(){"use strict";EcomCart.cart={subtotal:0,items:[]},EcomCart.items=EcomCart.cart.items;var a=[];EcomCart.addCallback=function(t){"function"==typeof t&&a.push(t)},EcomCart.saveCart=function(){var t,r;for(t=EcomCart.cart.subtotal=0;t<EcomCart.items.length;t++)r=EcomCart.items[t],EcomCart.cart.subtotal+=r.quantity*(r.final_price||r.price);for("object"==typeof localStorage&&localStorage&&localStorage.setItem("cart",JSON.stringify(EcomCart.cart)),t=0;t<a.length;t++)a[t](null,EcomCart.cart)},EcomCart.handleItem=function(t){if(!t._id){t._id="1234";for(var r="0123456789abcdef",a=t._id.length;a<24;a++)t._id+=r.charAt(Math.floor(Math.random()*r.length))}return t.min_quantity&&t.quantity<t.min_quantity?t.quantity=t.min_quantity:t.max_quantity&&t.quantity>t.max_quantity&&(t.quantity=t.max_quantity),EcomCart.saveCart(),t._id},"object"==typeof window?window.EcomCart=EcomCart:module&&module.exports&&(module.exports=EcomCart)}(),function(){"use strict";EcomCart.addItem=function(t){if(!("string"==typeof t.product_id&&"number"==typeof t.quantity&&0<=t.quantity&&"number"==typeof t.price&&0<=t.price))return console.error(new Error("Trying to add invalid item object")),null;for(var r=0;r<EcomCart.items.length;r++){var a=EcomCart.items[r];if(a.product_id===t.product_id&&a.variation_id===t.variation_id)return a.quantity+=t.quantity,t.price&&(a.price=t.price),t.final_price&&(a.final_price=t.final_price),EcomCart.handleItem(a)}return EcomCart.items.push(t),EcomCart.handleItem(t)}}(),function(){"use strict";EcomCart.clearCart=function(){EcomCart.items=[],EcomCart.saveCart()}}(),function(){"use strict";EcomCart.increaseItemQnt=function(t,r){for(var a=0;a<EcomCart.items.length;a++){var o=EcomCart.items[a];if(o._id===t)return o.quantity+=r,EcomCart.handleItem(o),!0}return!1}}(),function(){"use strict";EcomCart.removeItem=function(t){for(var r=0;r<EcomCart.items.length;r++)if(EcomCart.items[r]._id===t)return EcomCart.items.splice(r,1),EcomCart.saveCart(),!0;return!1}}(),function(){"use strict";if("object"==typeof localStorage&&localStorage){var t=localStorage.getItem("cart");try{var r=JSON.parse(t);"object"==typeof r&&null!==r&&Array.isArray(r.items)&&r.items.forEach(function(t){EcomCart.addItem(t)})}catch(t){}}}();
//# sourceMappingURL=shopping-cart.min.js.map
